(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{373:function(e,t,a){},449:function(e,t,a){e.exports=a(650)},454:function(e,t,a){},615:function(e,t,a){},637:function(e,t,a){},649:function(e,t,a){},650:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),c=a.n(o);a(454),a(455),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(64),i=a(30),u=a(18),s=a(685),m=a(680),d=a(674),f=a(677),h=a(686),p=a(668),y=a(149),v=a(210),E=a.n(v),g=a(418),b=a.n(g),_=a(60),w=a(658),O=a(211),k=a(68),j=a(431),S=a(172),x=a(670),C=a(657),A=a(661),I=a(282),N=a(675),L=a(180),P=a(676),Y=a(119),D=a.n(Y),M=a(400),T=a.n(M),F="".concat(window.location.protocol,"//").concat(window.location.hostname);"localhost"==window.location.hostname&&(F+=":4000");var R=F,B=function(e,t,a,n,r,o){T.a.post(R+e,t,n?{headers:{Authorization:n}}:{}).then(a).catch(function(e){G(e,o),r&&r(!1)})},G=function(e,t){var a={};if(console.log("CAUGHT API CALL ERROR : ",e),a={message:"There was an error."},!e.response)return e.data,void j.a.error({message:"There was an error.",description:e.message?e.message:e});if(403===e.response.status)return a.message="Your Session has timed out.",a.description="Please sign in again to continue.",j.a.error(a),void t("/");var n=e.response;n.data&&(n.data.raw&&n.data.raw.message?a.description=n.data.raw.message:n.data.error&&n.data.error.message?a.description=n.data.error.message:"string"===typeof n.data.error?a.description=n.data.error:Array.isArray(n.data.error)?n.data.error.forEach(function(e){a.description+=e+"."}):n.data.message?a.description=n.data.message:n.message&&(a.description=n.message)),a.description||(a.description=e.response.statusText),j.a.error(a)},z=function(e){var t=new Date(1970,0,1);return t.setSeconds(e),t},V=function(e){var t=!1;switch(e){case"paid":t="green";break;case"invoiced_in_error":t="volcano";break;case"waiver":case"voucher":t="geekblue";break;case"refund":t="orange";break;case"uncollectible":t="magenta";break;case"open":t="cyan"}return t},W=a(432),U=function(e){var t=e.status,a=e.faint;return r.a.createElement(W.a,{style:{opacity:a?"0.4":"1"},color:V(t)},t?t.toUpperCase():"None")},$=a(47),H=a.n($),K=w.a.RangePicker,J=O.a.Option,q=a(187),Q=function(e,t,a,n,r){B("/invoices/update/".concat(e),{invoice_id:t},function(e){200==e.status?n():G(e)},a,null,r)},X=function(e,t,a,n,r,o,c){o||(o=0),c||(c=0),B("/invoices/update/label/".concat(e),{invoice_id:t,waiver_amount:o,voucher_amount:c},function(e){200==e.status?n():G(e)},a,null,r)},Z=function(e,t,a,n,o,c){return r.a.createElement(y.a,{items:[{key:1,label:r.a.createElement(l.c,{to:"/sheet/invoice/view/"+e},r.a.createElement(k.a,{type:"dashed",icon:r.a.createElement(d.a,null),block:!0},"View Invoice"))},{key:2,label:"Mark Invoice",children:[{key:"2.1",label:r.a.createElement(k.a,{block:!0,type:"dashed",onClick:function(){return X("paid",e,a,n,o)}},"Paid")},{key:"2.2",label:r.a.createElement(k.a,{block:!0,type:"dashed",onClick:function(){return X("invoiced_in_error",e,a,n,o)}},"Invoiced in error")},{key:"2.3",label:r.a.createElement(k.a,{block:!0,type:"dashed",onClick:function(){return c("Waiver",t)}},"Waiver")},{key:"2.4",label:r.a.createElement(k.a,{block:!0,type:"dashed",onClick:function(){return c("Voucher",t)}},"Voucher")},{key:"2.5",label:r.a.createElement(k.a,{block:!0,type:"dashed",onClick:function(){return X("refund",e,a,n,o)}},"Refund")},{key:"2.6",label:r.a.createElement(k.a,{block:!0,type:"dashed",onClick:function(){return X("uncollectible",e,a,n,o)}},"Uncollectible")}]},{key:3,label:"Change Status",children:[{key:"3.1",label:r.a.createElement(k.a,{block:!0,onClick:function(){return Q("paid",e,a,n,o)}},"Paid")},{key:"3.2",label:r.a.createElement(k.a,{block:!0,onClick:function(){return Q("invoiced_in_error",e,a,n,o)}},"Invoiced in error")},{key:"3.3",label:r.a.createElement(k.a,{block:!0,onClick:function(){return Q("waiver",e,a,n,o)}},"Waiver")},{key:"3.4",label:r.a.createElement(k.a,{block:!0,onClick:function(){return Q("voucher",e,a,n,o)}},"Voucher")},{key:"3.5",label:r.a.createElement(k.a,{block:!0,onClick:function(){return Q("refund",e,a,n,o)}},"Refund")},{key:"3.6",label:r.a.createElement(k.a,{block:!0,onClick:function(){return Q("uncollectible",e,a,n,o)}},"Uncollectible")}]},{key:4,label:r.a.createElement(k.a,{type:"primary",danger:!0,icon:r.a.createElement(N.a,null),block:!0,onClick:function(){return Q("uncollectible",e,a,n,o)}},"Refund")}],onClick:function(e){return console.log(e)}})},ee=function(e,t,a,n){console.log("params",e,t,a,n)},te=function(){var e,t,a=Object(_.c)(),o=Object(i.g)(),c=Object(n.useState)([]),l=Object(u.a)(c,2),s=l[0],m=l[1],d=Object(n.useState)(!1),f=Object(u.a)(d,2),h=f[0],p=f[1],y=Object(n.useState)([]),v=Object(u.a)(y,2),E=v[0],g=v[1],b=Object(n.useState)(!1),w=Object(u.a)(b,2),N=w[0],Y=w[1],M=Object(n.useState)({}),T=Object(u.a)(M,2),F=T[0],R=T[1],G=Object(n.useState)([]),V=Object(u.a)(G,2),W=V[0],$=V[1],Q=Object(n.useState)(!0),te=Object(u.a)(Q,2),ae=te[0],ne=te[1],re=Object(n.useState)({}),oe=Object(u.a)(re,2),ce=oe[0],le=oe[1],ie=Object(n.useState)(""),ue=Object(u.a)(ie,2),se=ue[0],me=ue[1],de=Object(n.useState)(null),fe=Object(u.a)(de,2),he=fe[0],pe=fe[1],ye=function(){p(!0),B("/invoices/list",{created:{gte:e,lte:t}},function(e){var t=e.data.data.data;t.forEach(function(e,t){e.created_verbose=q.prettyPrint(z(e.created),{showTime:!0}),e.key=t}),console.log(t),p(!1),m(t)},a(),p,o)},ve=function(e){"Waiver"===se?le(JSON.parse(e)):pe(e)},Ee=function(e,t){me(e),R(t),Y(!0),B("/invoices/all-coupans-list",{},function(e){var t=e.data.data.data;$(t),ne(!1)},a())},ge=[{title:"Offering",dataIndex:"account_name",key:"account_name"},{title:"Email",dataIndex:"customer_email",key:"customer_email"},{title:"Amount",dataIndex:"amount_due",key:"amount_due",align:"center",render:function(e,t){return r.a.createElement("span",null,function(e){return"".concat(D()(e.currency)).concat(Math.round(e.amount_due/100))}(t))}},{title:"Waiver Amount",dataIndex:"metadata.waiver_amount",key:"waiver_amount",align:"center",render:function(e,t){var a;return(null===t||void 0===t?void 0:null===(a=t.metadata)||void 0===a?void 0:a.waiver_amount)?r.a.createElement("span",null,D()(t.currency),t.metadata.waiver_amount?Math.floor(t.metadata.waiver_amount/100):0):r.a.createElement("span",null,D()(t.currency),"0")}},{title:"Marked for",dataIndex:"metadata.marked_status",key:"marked_status",align:"center",render:function(e,t){if(t.metadata.marked_status)return r.a.createElement(U,{faint:!0,status:t.metadata.marked_status})},filters:[{text:"Draft",value:"draft"},{text:"Invoiced in error",value:"invoiced_in_error"},{text:"Waiver",value:"waiver"},{text:"Voucher",value:"voucher"},{text:"Refund",value:"refund"},{text:"Uncollectible",value:"uncollectible"},{text:"Open",value:"open"},{text:"Paid",value:"paid"}],onFilter:function(e,t){return t.status===e}},{title:"Current status",dataIndex:"status",key:"status",align:"center",render:function(e,t){return r.a.createElement(U,{status:t.metadata.hasOwnProperty("custom_status")?t.metadata.custom_status:e})},filters:[{text:"Draft",value:"draft"},{text:"Invoiced in error",value:"invoiced_in_error"},{text:"Invoiced in error",value:"void"},{text:"Waiver",value:"waiver"},{text:"Voucher",value:"voucher"},{text:"Refund",value:"refund"},{text:"Uncollectible",value:"uncollectible"},{text:"Open",value:"open"},{text:"Paid",value:"paid"}],onFilter:function(e,t){return t.status===e}},{title:"Created",dataIndex:"created_verbose",key:"created_verbose"},{title:"Action",dataIndex:"id",key:"action",render:function(e,t){return r.a.createElement(S.a,{arrow:!1,overlay:Z(e,t,a(),ye,o,Ee),placement:"bottomRight"},r.a.createElement(k.a,null,r.a.createElement(x.b,null,"Actions",r.a.createElement(L.a,null))))}}];Object(n.useEffect)(function(){t=H()().startOf("day").unix(),e=H()().subtract(1,"month").endOf("day").unix(),g([e,t]),ye()},[]);var be,_e=W?W.map(function(e){return r.a.createElement(J,{key:e.id,value:JSON.stringify(e)},"$",Math.floor(e.amount_off/100))}):[];return r.a.createElement("div",{className:"sheet"},r.a.createElement(x.b,null),r.a.createElement(x.b,null,r.a.createElement("h2",null,"Invoices "),r.a.createElement(K,{onCalendarChange:function(e){e.length&&g(e)},defaultValue:[H()().startOf("day"),H()().subtract(30,"days").endOf("day")]}),r.a.createElement(k.a,{onClick:function(){return function(){if(E.length<2)return j.a.warning({title:"View Invoice",description:"Please select start and end dates."});e=E[0].unix(),t=E[1].unix(),ye()}()},icon:r.a.createElement(P.a,null),shape:"round",type:"primary"},"Get Invoices")),r.a.createElement(C.a,{loading:h,dataSource:s,columns:ge,onChange:ee}),r.a.createElement(A.a,{destroyOnClose:!0,title:se+" Details",visible:N,onOk:function(){"Waiver"===se?X("waiver",F.id,a(),ye,o,ce.amount_off||F.metadata.waiver_amount):X("voucher",F.id,a(),ye,o,ce.amount_off||F.metadata.waiver_amount,100*he||F.metadata.voucher_amount),$([]),pe(null),Y(!1),ye()},onCancel:function(){le({}),$([]),pe(null),Y(!1)},okButtonProps:{disabled:!ce.hasOwnProperty("amount_off")&&!he}},r.a.createElement("p",null,"Offerting : ",F.account_name),r.a.createElement("p",null,"Email : ",F.customer_email),r.a.createElement("p",null,"Amount : ",(be=F,"".concat(D()(be.currency)).concat(Math.floor((be.amount_due-(ce.amount_off||0))/100)-Math.floor(he||0)))),r.a.createElement("p",null,"Created At : ",F.created_verbose),"waiver"===se.toLowerCase()?r.a.createElement(x.b,null,r.a.createElement("p",null,"Coupans list :"),r.a.createElement(O.a,{placeholder:"Select Waiver Amount",onChange:ve,loading:ae},_e)):r.a.createElement(x.b,null,r.a.createElement("p",null,"Voucher amount :"),r.a.createElement(I.a,{placeholder:"Enter voucher amount",value:he,onChange:function(e){return ve(e.target.value)},prefix:D()(F.currency)}))))},ae=a(678),ne=a(223),re=a.n(ne),oe=a(187),ce=function(e,t,a,n){console.log("params",e,t,a,n)},le=function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(n.useState)([]),o=Object(u.a)(a,2),c=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),h=d[0],p=d[1],y=[{title:"Report Category",dataIndex:"report_type",key:"report_type",render:function(e){return function(e){var t={"balance.summary.1":"Balance - Summary","balance_change_from_activity.summary.1":"Balance change from activity - Summary","balance_change_from_activity.itemized.3":"Balance change from activity - Itemized","payouts.summary.1":"Payouts - Summary","payouts.itemized.3":"Payouts - Itemized","payout_reconciliation.summary.1":"Payout reconciliation - Summary","payout_reconciliation.itemized.5":"Payout reconciliation - Itemized","ending_balance_reconciliation.summary.1":"Ending balance reconciliation - Summary"};return t.hasOwnProperty(e)?t[e]:e=(e=e.replaceAll("."," ")).replaceAll("_"," ")}(e)}},{title:"Size",dataIndex:"size",key:"size",render:function(e,t){return re()(t.result.size)+" KB"}},{title:"Created",dataIndex:"created",key:"created",render:function(e){return oe.prettyPrint(z(e))}},{title:"Interval",dataIndex:"parameters",key:"parameters",render:function(e){return"".concat(oe.prettyPrint(z(e.interval_start))," to ").concat(oe.prettyPrint(z(e.interval_end)),".")}},{title:"Action",dataIndex:"id",key:"action",colSpan:2,render:function(e,t){return"succeeded"==t.status?r.a.createElement(l.c,{to:"/sheet/report/view/"+e},r.a.createElement(k.a,{type:"primary",icon:r.a.createElement(f.a,null),block:!0},"View Report")):r.a.createElement(k.a,{disabled:!0,type:"primary",icon:r.a.createElement(ae.a,null),block:!0},"Report ",t.status)}}];return Object(n.useEffect)(function(){p(!0),B("/reports/list",{},function(e){var t=e.data.data.data;t.forEach(function(e){e.key=e.id}),s(t),p(!1)},e(),p,t)},[]),r.a.createElement("div",{className:"sheet"},r.a.createElement(x.b,null),r.a.createElement("h1",null,"Reports "),r.a.createElement(C.a,{loading:h,dataSource:c,columns:y,onChange:ce}))},ie=a(69),ue=a(198),se=a(315),me=a(199),de=a(184),fe=a(665),he=a(669),pe=a(679),ye=a(663),ve=a(427),Ee=a(405),ge=a.n(Ee),be=["children"],_e=["dataSource","targetKeys"];function we(){we=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),c=new O(n||[]);return o._invoke=function(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return j()}for(a.method=r,a.arg=o;;){var c=a.delegate;if(c){var l=b(c,a);if(l){if(l===s)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=u(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===s)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var s={};function m(){}function d(){}function f(){}var h={};l(h,r,function(){return this});var p=Object.getPrototypeOf,y=p&&p(p(k([])));y&&y!==t&&a.call(y,r)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var n;this._invoke=function(r,o){function c(){return new t(function(n,c){!function n(r,o,c,l){var i=u(e[r],e,o);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,c,l)},function(e){n("throw",e,c,l)}):t.resolve(m).then(function(e){s.value=e,c(s)},function(e){return n("throw",e,c,l)})}l(i.arg)}(r,o,n,c)})}return n=n?n.then(c,c):c()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,l(v,"constructor",f),l(f,"constructor",d),d.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},E(g.prototype),l(g.prototype,o,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var c=new g(i(t,a,n,r),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(v),l(v,c,"Generator"),l(v,r,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),s}},e}String.prototype.toProperCase=function(){return this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};var Oe=I.a.Search,ke=function(e,t){return e.includes(t)},je=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(function(t){var n=t.children,r=Object(de.a)(t,be);return Object(me.a)(Object(me.a)({},r),{},{disabled:a.includes(r.key),children:e(n,a)})})},Se=function(e){var t=e.dataSource,a=e.targetKeys,n=Object(de.a)(e,_e),o=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){o.push(t),e(t.children)})}(t),r.a.createElement(ye.a,Object.assign({},n,{targetKeys:a,dataSource:o,className:"tree-transfer",render:function(e){return e.title},showSelectAll:!1}),function(e){var n=e.direction,o=e.onItemSelect,c=e.selectedKeys;if("left"===n){var l=[].concat(Object(se.a)(c),Object(se.a)(a));return r.a.createElement(ve.a,{blockNode:!0,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,checkedKeys:l,treeData:je(t,a),onCheck:function(e,t){var a=t.node.key;o(a,!ke(l,a))},onSelect:function(e,t){var a=t.node.key;o(a,!ke(l,a))}})}})},xe=function(e){var t=e.user_id,a=e.current_permissions,o=e.permissions,c=Object(_.c)(),l=Object(i.g)(),s=Object(n.useState)([]),m=Object(u.a)(s,2),d=m[0],f=m[1],h=Object(n.useState)(!1),p=Object(u.a)(h,2),y=p[0],v=p[1],E=Object(n.useState)(!1),g=Object(u.a)(E,2),b=g[0],w=g[1];Object(n.useEffect)(function(){console.log(a),f(a)},[]);var O=function(){var e=Object(ue.a)(we().mark(function e(){var n,r,o,i,u,s,m;return we().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(i in v(!0),r={invoice_permissions:(n={set_refund:!1,set_to_be_refund:!1,set_paid:!1,set_invoiced_in_error:!1,set_waiver:!1,set_voucher:!1},Object(ie.a)(n,"set_refund",!1),Object(ie.a)(n,"set_uncollectible",!1),Object(ie.a)(n,"set_to_be_paid",!1),Object(ie.a)(n,"set_to_be_invoiced_in_error",!1),Object(ie.a)(n,"set_to_be_waiver",!1),Object(ie.a)(n,"set_to_be_voucher",!1),Object(ie.a)(n,"set_to_be_refund",!1),Object(ie.a)(n,"set_to_be_uncollectible",!1),n),report_permissions:{balance_summary_1:!1,balance_change_from_activity_summary_1:!1,balance_change_from_activity_itemized_3:!1,payouts_summary_1:!1,payouts_itemized_3:!1,payout_reconciliation_summary_1:!1,payout_reconciliation_itemized_5:!1,ending_balance_reconciliation_summary_1:!1},general_permissions:{view_invoice:!1,access_reports:!1,manage_users:!1}},d.forEach(function(e){for(var t in r)if(Object.hasOwnProperty.call(r,t)){var a=r[t];if(a.hasOwnProperty(e)){a[e]=!0;break}}}),o={},r)if(Object.hasOwnProperty.call(r,i))for(s in u=r[i])Object.hasOwnProperty.call(u,s)&&(m=u[s],o["".concat(i,".").concat(s)]="".concat(m));B("/users/permit",{permission_updates:o,user_id:t},function(e){try{e.data.data&&e.data.data.id&&j.a.success({message:"User update action",description:"Permissions updated successfully!"})}catch(t){j.a.error({message:"Error",description:"Permissions could not be updated, try again later."}),f(a)}v(!1)},c(),v,l);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{dataSource:o,targetKeys:d,onChange:function(e){console.log(e),b||w(!0),f(e)}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1em"}},r.a.createElement(k.a,{disabled:!b,type:"primary",icon:r.a.createElement(pe.a,null),onClick:O,loading:y},"Set Permissions")))},Ce=(a(187),function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(n.useState)([]),o=Object(u.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],f=m[1],h=Object(n.useState)(""),p=Object(u.a)(h,2),y=p[0],v=p[1];Object(n.useEffect)(function(){B("/users/list",{},function(e){var t=e.data.data;l(t)},e(),f,t)},[]);var E=function(a){f(!0),v(a),B("/auth/find",{param:a},function(e){console.log(e);var t=e.data;console.log("USERSSS",t),f(!1),l(t)},e(),f,t)},g=[{title:"Email",dataIndex:"email",key:"email"},{title:"Account status",dataIndex:"isActive",key:"isActive",render:function(a,n){return r.a.createElement(fe.a,{checked:a,unCheckedChildren:"Disabled",checkedChildren:"enabled",onChange:function(){return function(a,n,r){B("/auth/toggle",{user_id:n,status:!a},function(e){e.isActive!==a&&E(y)},e(),f,t)}(a,n.id)}})}},{title:"Permissions",dataIndex:"permissions",key:"permissions",render:function(e,t){var a=[],n=[];return["general_permissions","invoice_permissions","report_permissions"].forEach(function(e){var r,o={title:e.replaceAll("_"," ").toProperCase(),value:e,checkable:!1,children:[]};for(var c in t[e])if(Object.hasOwnProperty.call(t[e],c)){var l=t[e][c];o.children.push({title:(r=c,(r=(r=(r=r.replace("set_to_be","Mark_as")).replace("set","Set_status_to")).replaceAll("_"," ").replace(/\d+$/,"")).toProperCase()),value:c,key:c}),"true"===l&&n.push(c)}a.push(o)}),console.log(a,n),r.a.createElement(he.a,null,r.a.createElement(ge.a,{key:1,header:"Manage Permissions"},r.a.createElement(xe,{user_id:t.id,permissions:a,current_permissions:n})))}}];return r.a.createElement("div",{className:"sheet"},r.a.createElement(x.b,null),r.a.createElement("h2",null,"Manage Users "),r.a.createElement(Oe,{placeholder:"Search for a User",onSearch:E}),r.a.createElement(C.a,{pagination:!1,loading:d,dataSource:c,columns:g}))}),Ae=a(681),Ie=a(682),Ne=a(671),Le=a(672),Pe=a(667),Ye=a(660),De=a(662),Me=a(664),Te=(a(615),w.a.RangePicker),Fe=a(223),Re=function(){var e=Object(n.useRef)(),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),s=Object(u.a)(l,2),d=s[0],f=s[1],h=Object(n.useState)(!0),p=Object(u.a)(h,2),y=p[0],v=p[1],E=Object(n.useState)([]),g=Object(u.a)(E,2),b=g[0],w=g[1],O=Object(n.useState)(!1),S=Object(u.a)(O,2),C=S[0],A=S[1],I=Object(n.useState)(!0),N=Object(u.a)(I,2),L=N[0],P=N[1],Y=Object(n.useState)([]),D=Object(u.a)(Y,2),M=D[0],T=D[1],F=Object(n.useState)(!1),R=Object(u.a)(F,2),G=R[0],z=R[1],V=Object(n.useState)(!0),W=Object(u.a)(V,2),U=W[0],$=W[1],K=Object(n.useState)([]),J=Object(u.a)(K,2),q=J[0],Q=J[1],X=Object(n.useState)(!1),Z=Object(u.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(!0),ne=Object(u.a)(ae,2),re=ne[0],oe=ne[1],ce=Object(n.useState)([]),le=Object(u.a)(ce,2),ie=le[0],ue=le[1],se=Object(n.useState)(!1),me=Object(u.a)(se,2),de=me[0],fe=me[1],he=Object(n.useState)(!0),pe=Object(u.a)(he,2),ye=pe[0],ve=pe[1],Ee=Object(_.c)(),ge=Object(i.g)(),be=function(e){return d?d[e]:0},_e=function(e){return C?C[e]:0},we=function(e){return G?G[e]:0},Oe=function(e){return ee?ee[e]:0};Object(n.useEffect)(function(){!function(){var e=H()().subtract(1,"day"),t=e.startOf("day").unix(),a=e.endOf("day").unix();B("/reports/dashboard/day",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){var t=new Date;t.setHours(e._id.hour),e.total_amount/=100,e.hour=H()(t).format("hh a"),n+=e.count,a+=e.total_amount,delete e._id}),f({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("YESTERDAY AGGREGATE DATA",t),c(t)},Ee(),null,ge)}(),function(){var e=H()().subtract(1,"week"),t=e.startOf("day").unix(),a=e.endOf("day").unix();B("/reports/dashboard/week",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){e.date="".concat(e._id.year,"/").concat(e._id.month,"/").concat(e._id.day),e.total_amount/=100,n+=e.count,a+=e.total_amount,delete e._id}),console.log(t),A({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("LAST WEEK AGGREGATE DATA",t),w(t)},Ee(),null,ge)}(),function(){var e=H()().subtract(1,"month"),t=e.startOf("day").unix(),a=e.endOf("day").unix();B("/reports/dashboard/week",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){e.date="".concat(e._id.year,"/").concat(e._id.month,"/").concat(e._id.day),e.total_amount/=100,n+=e.count,a+=e.total_amount,delete e._id}),console.log(t),z({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("LAST MONTH AGGREGATE DATA",t),T(t)},Ee(),null,ge)}(),function(){var e=H()().subtract(1,"month"),t=e.startOf("day").unix(),a=e.endOf("day").unix();B("/reports/dashboard/year",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){e.date="".concat(e._id.year,"/").concat(e._id.month),e.total_amount/=100,n+=e.count,a+=e.total_amount,delete e._id}),te({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("LAST YEAR AGGREGATE DATA",t),Q(t)},Ee(),null,ge)}()},[]);var ke={stroke:"rgb(80, 80, 80)",lineDash:[10,5],lineWidth:2,opacity:.75},je={fill:"l(270) 0:#af7bb4b2 1:#165481ad"},Se={xField:"hour",yField:"total_amount",annotations:[{type:"text",position:["min",be("amount_avg")],content:"Average Amount : $".concat(Fe(be("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",be("amount_avg")],end:["max",be("amount_avg")],style:ke}],meta:{hour:{alias:"Time",formatter:function(e){return"0"==e[0]?e.substring(1):e}},total_amount:{alias:"Amount",formatter:function(e){return"$ ".concat(Fe(e))}}},xAxis:{tickCount:24},smooth:!0,areaStyle:je},xe={xField:"hour",yField:"count",annotations:[{type:"text",position:["min",be("count_avg")],content:"Average Count : ".concat(Fe(be("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",be("count_avg")],end:["max",be("count_avg")],style:ke}],meta:{hour:{alias:"Time",formatter:function(e){return"0"==e[0]?e.substring(1):e}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},xAxis:{tickCount:24},smooth:!0},Ce={xField:"date",yField:"total_amount",annotations:[{type:"text",position:["min",_e("amount_avg")],content:"Average Amount : $".concat(Fe(_e("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",_e("amount_avg")],end:["max",_e("amount_avg")],style:ke}],meta:{date:{alias:"Date",formatter:function(e){return H()(e,"YYYY/M/D").format("dddd, Do MMMM")}},total_amount:{alias:"Total Amount",formatter:function(e){return"$ ".concat(Fe(e))}}},smooth:!0,areaStyle:je},Re={xField:"date",yField:"count",annotations:[{type:"text",position:["min",_e("count_avg")],content:"Average Count : ".concat(Fe(_e("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",_e("count_avg")],end:["max",_e("count_avg")],style:ke}],meta:{date:{alias:"Date",formatter:function(e){return H()(e,"YYYY/M/D").format("dddd, DD MMMM")}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},smooth:!0,areaStyle:je},Be={xField:"date",yField:"total_amount",annotations:[{type:"text",position:["min",we("amount_avg")],content:"Average Amount : $".concat(Fe(we("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",we("amount_avg")],end:["max",we("amount_avg")],style:ke}],meta:{date:{alias:"Date",formatter:function(e){return H()(e,"YYYY/M/D").format("Do MMM, YYYY")}},total_amount:{alias:"Total Amount",formatter:function(e){return"$ ".concat(Fe(e))}}},smooth:!0,areaStyle:je},Ge={xField:"date",yField:"count",annotations:[{type:"text",position:["min",we("count_avg")],content:"Average Count : ".concat(Fe(we("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",we("count_avg")],end:["max",we("count_avg")],style:ke}],meta:{date:{alias:"Date",formatter:function(e){return H()(e,"YYYY/M/D").format("Do MMM, YYYY")}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},smooth:!0,areaStyle:je},ze={xField:"date",yField:"total_amount",annotations:[{type:"text",position:["min",Oe("amount_avg")],content:"Average Amount : $".concat(Fe(Oe("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",Oe("amount_avg")],end:["max",Oe("amount_avg")],style:ke}],meta:{date:{alias:"Date",formatter:function(e){return H()(e,"YYYY/M").format("Do MMM, YYYY (ddd)")}},total_amount:{alias:"Total Amount",formatter:function(e){return"$ ".concat(Fe(e))}}},smooth:!0,areaStyle:je},Ve={xField:"date",yField:"count",annotations:[{type:"text",position:["min",Oe("count_avg")],content:"Average Count : ".concat(Fe(Oe("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",Oe("count_avg")],end:["max",Oe("count_avg")],style:ke}],meta:{date:{alias:"Date",formatter:function(e){return H()(e,"YYYY/M").format("MMMM d, YYYY (dddd)")}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},smooth:!0,areaStyle:je};return r.a.createElement("div",{className:" statistic-wrapper sheet",style:{minHeight:"90vh"}},r.a.createElement("div",{className:"sheet menu range-picker"},r.a.createElement("h3",null,"Show for a Custom Time Range"),r.a.createElement(x.b,null,r.a.createElement(Te,{onCalendarChange:function(e){e.length&&ue(e)}}),r.a.createElement(k.a,{onClick:function(){return function(){if(ie.length<2)return j.a.warning({title:"Create Dashboard",description:"Please select start and end dates."});console.log(ie[0].format(),ie[1].format());var e=ie[0].unix(),t=ie[1].unix();B("/reports/dashboard/custom",{start:e,end:t},function(e){var t=e.data.data;t.forEach(function(e){e.date="".concat(e._id.year,"/").concat(e._id.month,"/").concat(e._id.day),e.total_amount/=100,delete e._id}),console.log("CUSTOM AGGREGATE DATA",t),fe(t)},Ee(),null,ge)}()},icon:r.a.createElement(m.a,null),shape:"round",type:"primary"},"Get data"))),!de&&r.a.createElement(Ne.a,null,r.a.createElement(Le.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Yesterday"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(0)}},r.a.createElement(Ne.a,{gutter:16,justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!d,title:"Amount",prefix:r.a.createElement(Ae.a,null),value:d&&Fe(d.amount)})),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!d,title:"Invoices",prefix:r.a.createElement(Ie.a,null),value:d&&Fe(d.count)})))))),r.a.createElement(Le.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Last Week"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(1)}},r.a.createElement(Ne.a,{gutter:16,justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!C,title:"Amount",prefix:r.a.createElement(Ae.a,null),value:C&&Fe(C.amount)})),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!C,title:"Invoices",prefix:r.a.createElement(Ie.a,null),value:C&&Fe(C.count)})))))),r.a.createElement(Le.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Last Month"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(2)}},r.a.createElement(Ne.a,{gutter:16,justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!G,title:"Amount",prefix:r.a.createElement(Ae.a,null),value:G&&Fe(G.amount)})),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!G,title:"Invoices",prefix:r.a.createElement(Ie.a,null),value:G&&Fe(G.count)})))))),r.a.createElement(Le.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Last Year"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(3)}},r.a.createElement(Ne.a,{gutter:16,justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!ee,title:"Amount",prefix:r.a.createElement(Ae.a,null),value:ee&&Fe(ee.amount)})),r.a.createElement(Le.a,null,r.a.createElement(Pe.a,{loading:!ee,title:"Invoices",prefix:r.a.createElement(Ie.a,null),value:ee&&Fe(ee.count)}))))))),de&&r.a.createElement("div",{className:"sheet"},r.a.createElement("div",{style:{display:"flex",flexFlow:"row",justifyContent:"space-between",alignItems:"center"}},2==ie.length&&r.a.createElement("h2",null,"Viewing Data from ",ie[0].format("Do MMMM, YYYY")," to ",ie[1].format("Do MMMM, YYYY")),r.a.createElement(Ye.a,{options:["Amount","Count"],onChange:function(e){return ve("Amount"===e)}})),ye?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:de},Be)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:de},Ge))))),r.a.createElement("div",{className:"sheet"},r.a.createElement(De.a,{ref:function(t){return e.current=t},dotPosition:"top",autoplaySpeed:5e3},r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Yesterday's Hourly Data")),r.a.createElement(Ye.a,{options:["Amount","Count"],onChange:function(e){return v("Amount"===e)}})),y?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Hour"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:o},Se)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Hour"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:o},xe)))),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Last Weeks's Data")),r.a.createElement(Ye.a,{options:["Amount","Count"],onChange:function(e){return P("Amount"===e)}})),L?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:b},Ce)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:b},Re))))),r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Last Month's Data")),r.a.createElement(Ye.a,{options:["Amount","Count"],onChange:function(e){return $("Amount"===e)}})),U?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:M},Be)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:M},Ge)))),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Last Year's Data")),r.a.createElement(Ye.a,{options:["Amount","Count"],onChange:function(e){return oe("Amount"===e)}})),re?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:q},ze)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Me.a,Object.assign({data:q},Ve)))),r.a.createElement("div",null),r.a.createElement("div",null)))))},Be=(a(634),a(373),a(428)),Ge=a(656),ze=a(119),Ve=a(187);var We,Ue=[{title:"No.",dataIndex:"dummy",key:"dummy",render:function(e,t,a){return a+1}},{title:"Description",dataIndex:"description",key:"description"},{title:"Type",dataIndex:"price",render:function(e){var t=e.type.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});return t=t.replaceAll("_"," ")},key:"type"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Amount",dataIndex:"amount",key:"amount",render:function(e,t){return ze(t.currency)+Math.round(e/100)}}],$e=function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(i.h)().invoice_id,o=Object(n.useState)({}),c=Object(u.a)(o,2),l=c[0],s=c[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),f=d[0],h=d[1];return Object(n.useEffect)(function(){B("/invoices/retrieve",{invoice_id:a},function(e){var t=e.data.data;s(t),h(t.lines.data)},e(),null,t)},[]),r.a.createElement("div",{className:"sheet"},r.a.createElement("div",{className:"sheet envelope no-margin"},l.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,l.customer_name?"".concat(l.customer_name.split(" ")[0],"'s Invoice"):"Invoice"," "),r.a.createElement("h3",null,l.number," for ",ze(l.currency)+l.amount_due,"  "),r.a.createElement("h3",null,"Due in ",Ve.relativeTime(z(l.due_date)),".  ")),r.a.createElement("div",{className:"envelope-sub"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Invoice ID :"),r.a.createElement("div",null,r.a.createElement(W.a,null,l.id))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Charge Date : "),r.a.createElement("div",null,r.a.createElement(W.a,null,Ve.prettyPrint(z(l.created),{showTime:!0})))),r.a.createElement("div",{className:"row",style:{marginTop:"1.2em",display:"flex",justifyContent:"flex-end",marginRight:"0.2em"}},r.a.createElement(k.a,{size:"huge",type:"primary",danger:!0,icon:r.a.createElement(N.a,null)},"Refund")))):r.a.createElement(Be.a,{active:!0})),l.id?r.a.createElement("div",{className:"sheet no-margin invoice-container"},r.a.createElement(Ne.a,{gutter:16},r.a.createElement(Le.a,{span:8},r.a.createElement("h2",null,"From"),r.a.createElement("div",{className:"bulky-divider"}),r.a.createElement("h3",null,l.account_name)),r.a.createElement(Le.a,{span:8},r.a.createElement("h2",null,"To"),r.a.createElement("div",{className:"bulky-divider"}),l.customer_name&&r.a.createElement("h4",null,"Name : ",l.customer_name),l.customer_email&&r.a.createElement("h4",null,"Email : ",l.customer_email),l.customer_address&&r.a.createElement("h4",null,"Address : ",l.customer_address),l.customer_phone&&r.a.createElement("h4",null,"Phone : ",l.customer_phone)),r.a.createElement(Le.a,{span:8},r.a.createElement("h2",null,"Details"),r.a.createElement("div",{className:"bulky-divider"}),r.a.createElement("h4",null,"Invoice total : ",ze(l.currency),Math.round(l.amount_due/100)),r.a.createElement("h4",null,"Status : ",r.a.createElement(U,{status:l.status})))),r.a.createElement(Ge.a,null),r.a.createElement(C.a,{columns:Ue,dataSource:f})):r.a.createElement(Be.a,{active:!0}),r.a.createElement(Ge.a,null))},He=(a(637),a(666)),Ke=a(683),Je=a(684);function qe(){qe=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),c=new O(n||[]);return o._invoke=function(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return j()}for(a.method=r,a.arg=o;;){var c=a.delegate;if(c){var l=b(c,a);if(l){if(l===s)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=u(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===s)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=i;var s={};function m(){}function d(){}function f(){}var h={};l(h,r,function(){return this});var p=Object.getPrototypeOf,y=p&&p(p(k([])));y&&y!==t&&a.call(y,r)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var n;this._invoke=function(r,o){function c(){return new t(function(n,c){!function n(r,o,c,l){var i=u(e[r],e,o);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,c,l)},function(e){n("throw",e,c,l)}):t.resolve(m).then(function(e){s.value=e,c(s)},function(e){return n("throw",e,c,l)})}l(i.arg)}(r,o,n,c)})}return n=n?n.then(c,c):c()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,l(v,"constructor",f),l(f,"constructor",d),d.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},E(g.prototype),l(g.prototype,o,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var c=new g(i(t,a,n,r),o);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(v),l(v,c,"Generator"),l(v,r,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),s}},e}a(119),a(187);var Qe=a(223),Xe=w.a.RangePicker,Ze=O.a.Option;function et(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}var tt={Balance:{1:"balance.summary.1",2:"balance_change_from_activity.summary.1",3:"balance_change_from_activity.itemized.3",4:"payouts.summary.1",5:"payouts.itemized.3"},"Payout Reconciliation":{6:"balance.summary.1",7:"payout_reconciliation.summary.1",8:"payout_reconciliation.itemized.5",9:"ending_balance_reconciliation.summary.1",10:"ending_balance_reconciliation.itemized.4"}},at=(We={"balance.summary.1":1,"balance_change_from_activity.summary.1":2,"balance_change_from_activity.itemized.3":3,"payouts.summary.1":4,"payouts.itemized.3":5},Object(ie.a)(We,"balance.summary.1",6),Object(ie.a)(We,"payout_reconciliation.summary.1",7),Object(ie.a)(We,"payout_reconciliation.itemized.5",8),Object(ie.a)(We,"ending_balance_reconciliation.summary.1",9),Object(ie.a)(We,"ending_balance_reconciliation.itemized.4",1),We),nt={label:"title",value:"key"},rt=function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(n.useState)([1642662478,1658128249]),o=Object(u.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),d=(m[0],m[1],Object(n.useState)("Balance")),h=Object(u.a)(d,2),p=h[0],y=h[1],v=Object(n.useState)(!1),E=Object(u.a)(v,2),g=E[0],b=E[1],w=Object(n.useState)(!1),S=Object(u.a)(w,2),A=S[0],I=S[1],N=Object(n.useState)([]),L=Object(u.a)(N,2),P=L[0],Y=L[1],D=Object(n.useState)("summary"),M=Object(u.a)(D,2),T=M[0],F=M[1],R=Object(n.useState)(!1),G=Object(u.a)(R,2),z=G[0],V=G[1],W=Object(n.useState)([]),U=Object(u.a)(W,2),$=U[0],K=U[1],J=Object(n.useState)(!1),q=Object(u.a)(J,2),Q=q[0],X=q[1],Z=Object(n.useState)([]),ee=Object(u.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)("summary"),re=Object(u.a)(ne,2),oe=re[0],ce=re[1],le=Object(n.useState)(!1),ie=Object(u.a)(le,2),se=ie[0],me=ie[1],de=Object(n.useState)([]),fe=Object(u.a)(de,2),he=fe[0],pe=fe[1],ye=Object(n.useState)(!1),ve=Object(u.a)(ye,2),Ee=ve[0],ge=ve[1],be=Object(n.useState)([]),_e=Object(u.a)(be,2),we=_e[0],Oe=_e[1],ke=Object(n.useState)("summary"),je=Object(u.a)(ke,2),Se=je[0],xe=je[1],Ce=Object(n.useState)(!1),Ae=Object(u.a)(Ce,2),Ie=Ae[0],Pe=Ae[1],De=Object(n.useState)([]),Me=Object(u.a)(De,2),Te=Me[0],Fe=Me[1],Re=Object(n.useState)(!1),ze=Object(u.a)(Re,2),Ve=ze[0],We=ze[1],Ue=Object(n.useState)([]),$e=Object(u.a)(Ue,2),rt=$e[0],ot=$e[1],ct=Object(n.useState)("summary"),lt=Object(u.a)(ct,2),it=(lt[0],lt[1]),ut=Object(n.useState)(!1),st=Object(u.a)(ut,2),mt=st[0],dt=st[1],ft=Object(n.useState)([]),ht=Object(u.a)(ft,2),pt=ht[0],yt=ht[1],vt=Object(n.useState)(!1),Et=Object(u.a)(vt,2),gt=Et[0],bt=Et[1],_t=Object(n.useState)([]),wt=Object(u.a)(_t,2),Ot=wt[0],kt=wt[1];Object(n.useEffect)(function(){var e=H()().subtract(1,"month").startOf("month").startOf("day").unix(),t=H()().subtract(1,"month").endOf("month").endOf("day").unix();l([e,t]),At()},[]);var jt=function(e){switch(at[e]){case 1:return Y;case 2:return K;case 3:return ae;case 4:return pe;case 5:return Oe;case 6:return Y;case 7:return Fe;case 8:return ot;case 9:return yt;case 10:return kt;default:return console.log}},St=function(e){switch(at[e]){case 1:return I;case 2:return V;case 3:return X;case 4:return me;case 5:return ge;case 6:return I;case 7:return Pe;case 8:return We;case 9:return dt;case 10:return bt;default:return console.log}},xt=function(e){var t=[];for(var a in e[0])if(Object.hasOwnProperty.call(e[0],a)){var n={dataIndex:a,key:a,value:a},o=a.replaceAll("_"," ");n.title=et(o),"net_amount"==a&&(n.align="center",n.render=function(e){if("string"===typeof e||"number"===typeof e)return r.a.createElement("span",null,"$ ",e);if(Array.isArray(e)){var t=0,a=[];console.log(e),e.forEach(function(e){a.push({_id:e[0],total_amount:e[1]}),t+=e[1]}),a.push({_id:"Gross Invoiced Value",total_amount:t});var n=[{title:"Description",dataIndex:"_id",key:1,render:function(e){return et(e)}},{title:"Amount",dataIndex:"total_amount",key:2,render:function(e){return"$ "+Qe(e)}}];return r.a.createElement(C.a,{pagination:!1,dataSource:a,columns:n})}}),t.push(n)}return console.log(t),t},Ct=function(a){var n={report_type:a,parameters:{interval_end:c[1]}};a.startsWith("ending_balance_reconciliation")||(n.parameters.interval_start=c[0]),B("/reports/create",n,function(n){var r=n.data.data;console.log(a,r);var o=e().split(" ")[1],l="ws".concat("localhost"==window.location.hostname?"":"s","://").concat(window.location.hostname).concat("localhost"==window.location.hostname?":4000":"","/?auth_token=").concat(o,"&report_id=").concat(r.id),i=new WebSocket(l);i.addEventListener("open",function(e){console.log("[".concat(a,"] Websocket connected."))}),i.addEventListener("message",function(n){var r=n.data,o=JSON.parse(r);console.log("Websocket report : ",a,o),function(a){B("/reports/file",{file_id:a.result.id},function(){var n=Object(ue.a)(qe().mark(function n(r){var o,l,i,u;return qe().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=r.data.data,l=o.content,i=o.link,u=xt(l),l.forEach(function(e,t){if(e.key=t,e.category){var n=et(e.category.replaceAll("_"," "));"payouts_gross"!=e.category&&"payouts_fee"!=e.category&&"activity_gross"!=e.category&&"activity_fee"!=e.category||"balance.summary.1"!=a.report_type||(n="\xa0\xa0\xa0\xa0"+n),e.category=n}if(e.reporting_category){var r=et(e.reporting_category.replaceAll("_"," "));"payouts_gross"!=e.category&&"payouts_fee"!=e.category&&"activity_gross"!=e.category&&"activity_fee"!=e.category||"balance.summary.1"!=a.report_type||(r="\xa0\xa0\xa0\xa0"+r),e.category=r}}),B("/reports/dashboard/amount",{start:c[0],end:c[1]},function(e){var t=e.data.data,n=[],r={};for(var o in t.forEach(function(e){var t=e._id.status;r[t]||(r[t]={total_amount:0}),r[t].type=t;var a=e._id.voucher_type;a?(r[a]||(r[a]={total_amount:0}),r[a].total_amount+=e.total_amount/100,r[t].total_amount+=e.voucher_discount/100):r[t].total_amount+=e.total_amount/100}),r)if(Object.hasOwnProperty.call(r,o)){var c=r[o];n.push([c.type,c.total_amount])}if("balance.summary.1"==a.report_type){var s={category:"Invoice Details",description:"This shows a breakdown of the total amount gained from invoices.",net_amount:n};l.push(s)}var m={content:l,link:i,cols:u};console.log(a.report_type,m),jt(a.report_type)(u),St(a.report_type)(m),b("ready")},e(),null,t);case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),e(),null,t)}(o),i.close()})},e(),null,t)},At=function(){var e=Object(ue.a)(qe().mark(function e(){var t,a;return qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b("loading"),2==c.length){e.next=4;break}return j.a.error({message:"Validation Error",description:"Please select start and end dates"}),e.abrupt("return");case 4:for(t in tt[p])Object.hasOwnProperty.call(tt[p],t)&&(a=tt[p][t],console.log(a),Ct(a));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"sheet main"},r.a.createElement(x.b,null,r.a.createElement(Ye.a,{options:["Balance","Payout Reconciliation"],onChange:function(e){y(e)}}),r.a.createElement(Xe,{onChange:function(e){2==e.length&&l([e[0].unix(),e[1].unix()])},defaultValue:[H()().subtract(1,"month").startOf("month").startOf("day"),H()().subtract(1,"month").endOf("month").endOf("day")]}),r.a.createElement(k.a,{icon:r.a.createElement(Ke.a,null),loading:"loading"===g,type:"primary",onClick:At},"Create Report")),r.a.createElement(Ge.a,null),!g&&r.a.createElement(He.a,{icon:r.a.createElement(f.a,null),title:"Create a Report"}),"Balance"===p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Balance Summary"),r.a.createElement("p",null,"The Balance summary section shows your starting and ending Stripe balance for the selected date range, along with a high level summary of your activity during the period. Your balance includes funds that are available, pending, and any reserved funds, if applicable."),A?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:A.cols,onChange:function(e){var t=A.cols.filter(function(t){return e.includes(t.key)});Y(t)},defaultValue:function(){var e=[];return P.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!A.link,href:A&&A.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,columns:P,dataSource:A.content}),r.a.createElement(Ge.a,null)):r.a.createElement(Be.a,{active:!0}),r.a.createElement("br",null),r.a.createElement("h2",null,"Balance change from activity -",r.a.createElement(O.a,{className:"category-select",bordered:!1,onChange:function(e){return F(e)},value:T},r.a.createElement(Ze,{value:"summary"},"Summary"),r.a.createElement(Ze,{value:"itemized"},"Itemized"))),r.a.createElement("p",null,"The Balance change from activity section provides a more detailed breakdown of your transactions by reporting category. This section includes all transactions except for payouts that affect your balance, including charges, refunds, disputes, other adjustments, and fees."),z||Q?r.a.createElement(r.a.Fragment,null,"summary"===T?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:z.cols,onChange:function(e){var t=z.cols.filter(function(t){return e.includes(t.key)});K(t)},defaultValue:function(){var e=[];return $.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!z.link,href:z&&z.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:z.content},$&&$.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:Q.cols,onChange:function(e){var t=Q.cols.filter(function(t){return e.includes(t.key)});ae(t)},defaultValue:function(){var e=[];return te.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!Q.link,href:Q&&Q.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:Q.content},te&&te.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))),r.a.createElement(Ge.a,null)):r.a.createElement(Be.a,{active:!0}),r.a.createElement("br",null),r.a.createElement("h2",null,"Payouts -",r.a.createElement(O.a,{className:"category-select",bordered:!1,onChange:function(e){return ce(e)},value:oe},r.a.createElement(Ze,{value:"summary"},"Summary"),r.a.createElement(Ze,{value:"itemized"},"Itemized"))),r.a.createElement("p",null,"The Payouts section provides the quantity and total amount of payouts to your bank account during the period. You can download a list of individual payout transactions by clicking the Download button."),se||Ee?r.a.createElement(r.a.Fragment,null,"summary"===oe?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:se.cols,onChange:function(e){var t=se.cols.filter(function(t){return e.includes(t.key)});pe(t)},defaultValue:function(){var e=[];return he.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!se.link,href:se&&se.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:se.content},he&&he.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:Ee.cols,onChange:function(e){var t=Ee.cols.filter(function(t){return e.includes(t.key)});Oe(t)},defaultValue:function(){var e=[];return we.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!Ee.link,href:Ee&&Ee.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:Ee.content},we&&we.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))),r.a.createElement(Ge.a,null)):r.a.createElement(Be.a,{active:!0})),"Payout Reconciliation"==p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Balance Summary"),r.a.createElement("p",null,"The Balance summary section shows your starting and ending Stripe balance for the selected date range, along with a high level summary of your activity during the period. Your balance includes funds that are available, pending, and any reserved funds, if applicable."),A?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:A.cols,onChange:function(e){var t=A.cols.filter(function(t){return e.includes(t.key)});Y(t)},defaultValue:function(){var e=[];return P.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!A.link,href:A&&A.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,columns:P,dataSource:A.content}),r.a.createElement(Ge.a,null)):r.a.createElement(Be.a,{active:!0}),r.a.createElement("h2",null,"Payout Reconciliation -",r.a.createElement(O.a,{className:"category-select",bordered:!1,onChange:function(e){return xe(e)},value:T},r.a.createElement(Ze,{value:"summary"},"Summary"),r.a.createElement(Ze,{value:"itemized"},"Itemized"))),r.a.createElement("p",null,"The Payout reconciliation section provides a breakdown of the automatic payouts that were received in your bank account during the selected date range. The transactions included in those settlement batches are grouped by reporting category."),Ie||Ve?r.a.createElement(r.a.Fragment,null,"summary"===Se?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:Ie.cols,onChange:function(e){var t=Ie.cols.filter(function(t){return e.includes(t.key)});Fe(t)},defaultValue:function(){var e=[];return Te.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!Ie.link,href:Ie&&Ie.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:Ie.content},Te&&Te.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:Ve.cols,onChange:function(e){var t=Ve.cols.filter(function(t){return e.includes(t.key)});ot(t)},defaultValue:function(){var e=[];return rt.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!Ve.link,href:Ve&&Ve.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:Ve.content},rt&&rt.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))),r.a.createElement(Ge.a,null)):r.a.createElement(Be.a,{active:!0}),r.a.createElement("br",null),r.a.createElement("h2",null,"Ending Balance Reconciliation -",r.a.createElement(O.a,{className:"category-select",bordered:!1,onChange:function(e){return it(e)},value:oe},r.a.createElement(Ze,{value:"summary"},"Summary"),r.a.createElement(Ze,{value:"itemized"},"Itemized"))),r.a.createElement("p",null,"The Ending balance reconciliation section provides a similar breakdown of the transactions that hadn\u2019t been settled as of the report\u2019s end date."),mt||gt?r.a.createElement(r.a.Fragment,null,"summary"===oe?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:mt.cols,onChange:function(e){var t=mt.cols.filter(function(t){return e.includes(t.key)});yt(t)},defaultValue:function(){var e=[];return pt.forEach(function(t){return e.push(t.key)}),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!mt.link,href:mt&&mt.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:mt.content},pt&&pt.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{marginBottom:"0.8em"},justify:"space-between"},r.a.createElement(Le.a,null,r.a.createElement(O.a,{mode:"multiple",options:gt.cols,onChange:function(e){var t=gt.cols.filter(function(t){return e.includes(t.key)});kt(t)},defaultValue:function(){var e=[];return Ot.forEach(function(t){return e.push(t.key)}),console.log(e),e},placeholder:"Select Columns",showSearch:!0,showArrow:!0,fieldNames:nt},"Select Columns")),r.a.createElement(Le.a,null,r.a.createElement(k.a,{target:"_blank",disabled:!gt.link,href:gt&&gt.link,icon:r.a.createElement(Je.a,null),type:"primary",shape:"round"},"Download CSV"))),r.a.createElement(C.a,{pagination:!1,dataSource:gt.content},Ot&&Ot.map(function(e){return r.a.createElement(Ze,{title:e.title,key:e.key,dataIndex:e.dataIndex})}))),r.a.createElement(Ge.a,null)):r.a.createElement(Be.a,{active:!0})))};var ot=function(){var e=Object(i.g)(),t=Object(_.d)(),a=Object(_.f)(),o=Object(n.useState)(!0),c=Object(u.a)(o,2),v=c[0],g=c[1],w=Object(n.useState)(!1),O=Object(u.a)(w,2),k=O[0],j=O[1],S=function(){g(!v)};return Object(n.useEffect)(function(){var e=t();console.log(e),j(e)},[]),r.a.createElement(E.a,{style:{minHeight:"100vh"}},r.a.createElement(p.a,null,r.a.createElement(y.a,{className:"menubar",theme:"dark",style:{backgroundColor:"red !important"},mode:"horizontal"},r.a.createElement(y.a.Item,{onClick:function(){a(),e("/")},style:{marginLeft:"auto"},icon:r.a.createElement(s.a,null)},"Sign Out"))),r.a.createElement(E.a,null,r.a.createElement(b.a,{trigger:null,onMouseEnter:S,onMouseLeave:S,collapsible:!0,collapsed:v},r.a.createElement(y.a,{theme:"dark",mode:"inline"},r.a.createElement(y.a.Item,{key:0,icon:r.a.createElement(m.a,{className:"sidebar-icon"})},r.a.createElement(l.b,{to:"/sheet"},!v&&"Dashboard")),r.a.createElement(y.a.Item,{key:1,icon:r.a.createElement(d.a,{className:"sidebar-icon"})},r.a.createElement(l.b,{to:"/sheet/invoice/list"},!v&&"Access Invoices")),k&&r.a.createElement(r.a.Fragment,null,(k.isAdmin||k.general_permissions.access_reports)&&r.a.createElement(y.a.Item,{key:2,icon:r.a.createElement(f.a,{className:"sidebar-icon"})},r.a.createElement(l.b,{to:"/sheet/report/view"},!v&&"Check Reports")),(k.isAdmin||k.general_permissions.manage_users)&&r.a.createElement(y.a.Item,{key:3,icon:r.a.createElement(h.a,{className:"sidebar-icon"})},r.a.createElement(l.b,{to:"/sheet/users/list"},!v&&"Manage Users"))))),r.a.createElement(E.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"",element:r.a.createElement(Re,null)}),r.a.createElement(i.b,{path:"invoice/list",element:r.a.createElement(te,null)}),r.a.createElement(i.b,{path:"invoice/view/:invoice_id",element:r.a.createElement($e,null)}),r.a.createElement(i.b,{path:"report/list",element:r.a.createElement(le,null)}),r.a.createElement(i.b,{path:"report/view/",element:r.a.createElement(rt,null)}),r.a.createElement(i.b,{path:"users/list",element:r.a.createElement(Ce,null)})))))},ct=(a(649),a(659)),lt=a(673),it=a(687),ut=a(150),st=a(688),mt=a(689),dt=a(433),ft=function(){var e=Object(n.useState)("hrushikeshchapke@gmail.com"),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)("password"),l=Object(u.a)(c,2),s=l[0],m=l[1],d=Object(n.useState)(""),f=Object(u.a)(d,2),p=f[0],y=f[1],v=Object(n.useState)(""),E=Object(u.a)(v,2),g=E[0],b=E[1],w=Object(n.useState)(""),O=Object(u.a)(w,2),j=O[0],S=O[1],C=Object(n.useState)([]),A=Object(u.a)(C,2),N=A[0],L=A[1],P=Object(n.useState)([]),Y=Object(u.a)(P,2),D=Y[0],M=Y[1],T=Object(_.e)(),F=Object(i.g)();return r.a.createElement("div",{className:"login-container"},r.a.createElement(dt.a,{fill:"#7a7a7a2f",paused:!1,options:{height:360,amplitude:40,speed:.15,points:8},style:{position:"absolute",bottom:"0px",top:"0px",zIndex:"2 !important"}}),r.a.createElement("div",{className:"sheet login"},r.a.createElement(ct.a,{tabPosition:"bottom"},r.a.createElement(ct.a.TabPane,{tab:"Login",key:1},r.a.createElement(x.b,{direction:"vertical",align:"center",className:"fields-container"},r.a.createElement("h2",{style:{textDecoration:"underline"}},"Login"),r.a.createElement(I.a,{onChange:function(e){return o(e.target.value)},type:"email",placeholder:"Enter E-mail",prefix:r.a.createElement(h.a,null)}),r.a.createElement(I.a,{onChange:function(e){return m(e.target.value)},type:"password",placeholder:"Enter password",prefix:r.a.createElement(it.a,null)}),r.a.createElement("a",{className:"forgot-btn",href:"#"},"Forgot Password?"),N.map(function(e,t){return r.a.createElement(lt.a,{icon:r.a.createElement(ut.a,null),showIcon:!0,style:{fontSize:"0.8em"},message:e,key:t,type:"error"})}),r.a.createElement("br",null),r.a.createElement(k.a,{type:"primary",onClick:function(){return function(){var e=[];a||e.push("Please enter a valid e-mail."),s||e.push("Please enter your password."),e.length>0?L(e):B("/auth/login",{email:a,password:s},function(e,t){console.log("LOGIN CALL RESPONSE",e,t),e.data.token&&T({token:e.data.token,expiresIn:86400,tokenType:"Bearer",authState:e.data.user})&&F("/sheet/")})}()},icon:r.a.createElement(st.a,null)},"Login"),r.a.createElement("br",null))),r.a.createElement(ct.a.TabPane,{tab:"Register",key:2},r.a.createElement(x.b,{direction:"vertical",align:"center",className:"fields-container"},r.a.createElement("h2",{style:{textDecoration:"underline"}},"Register"),r.a.createElement(I.a,{onChange:function(e){return y(e.target.value)},type:"email",placeholder:"Enter E-mail",prefix:r.a.createElement(h.a,null)}),r.a.createElement(I.a,{onChange:function(e){return b(e.target.value)},type:"password",placeholder:"Enter password",prefix:r.a.createElement(it.a,null)}),r.a.createElement(I.a,{onChange:function(e){return S(e.target.value)},type:"password",placeholder:"Confirm password",prefix:r.a.createElement(it.a,null)}),D.map(function(e,t){return r.a.createElement(lt.a,{icon:r.a.createElement(ut.a,null),showIcon:!0,style:{fontSize:"0.8em"},message:e,key:t,type:"error"})}),r.a.createElement("br",null),r.a.createElement(k.a,{onClick:function(){return function(){var e=[];p||e.push("Please enter a valid e-mail."),g||e.push("Please enter your password."),j||e.push("Please confirm your password."),g!==j&&e.push("Your passwords don't match, please try again."),e.length>0?M(e):B("/auth/register",{email:p,password:g},function(e,t){console.log("REGISTER CALL RESPONSE",e,t),e.data.token&&T({token:e.data.token,expiresIn:86400,tokenType:"Bearer",authState:e.data.user})&&F("/sheet/")})}()},type:"primary",icon:r.a.createElement(mt.a,null)},"Register"),r.a.createElement("br",null))))))},ht=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"",element:r.a.createElement(ft,null)}))};c.a.render(r.a.createElement(_.a,{authType:"cookie",authName:"_auth",expiresIn:86400,cookieDomain:window.location.hostname,cookieSecure:"https:"===window.location.protocol},r.a.createElement(l.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(ht,null)}),r.a.createElement(i.b,{path:"sheet/*",element:r.a.createElement(_.b,{loginPath:"/"},r.a.createElement(ot,null))})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[449,1,2]]]);
//# sourceMappingURL=main.bed26d26.chunk.js.map